<!-- mantencion.page.html -->
<ion-header>
  <ion-toolbar color="mytheme">
    <ion-title>Mantenci√≥n</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" color="mytheme-2">

  <!-- üîß Segmento de filtros -->
  <ion-segment
    [value]="selectedSegment"
    (ionChange)="segmentChanged($event)"
    class="custom-segment"
  >
    <ion-segment-button value="abiertos">
      <ion-icon name="alert-circle-outline"></ion-icon>
      <ion-label>Abiertos</ion-label>
    </ion-segment-button>

    <ion-segment-button value="enProgreso">
      <ion-icon name="construct-outline"></ion-icon>
      <ion-label>En progreso</ion-label>
    </ion-segment-button>

    <ion-segment-button value="completados">
      <ion-icon name="checkmark-done-outline"></ion-icon>
      <ion-label>Completados</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- üßæ Lista de reportes -->
  <ion-card *ngFor="let reporte of mantenimientos[selectedSegment]" class="maintenance-card">
    <ion-card-header>
      <ion-card-title>{{ reporte.titulo }}</ion-card-title>
      <ion-card-subtitle class="subtitle">{{ reporte.tipo }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <p class="desc">{{ reporte.descripcion }}</p>

      <ion-item class="meta-item" lines="none">
        <ion-icon class="meta-icon" name="calendar-outline" slot="start"></ion-icon>
        <ion-label>Fecha: {{ reporte.fecha }}</ion-label>
      </ion-item>

      <ion-item class="meta-item" lines="none">
        <ion-icon class="meta-icon" name="time-outline" slot="start"></ion-icon>
        <ion-label>Hora: {{ reporte.hora }}</ion-label>
      </ion-item>

      <ion-item class="meta-item" lines="none">
        <ion-icon class="meta-icon" name="warning-outline" slot="start"></ion-icon>
        <ion-label>Gravedad: {{ reporte.gravedad }}</ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <!-- üß∞ Bot√≥n flotante para nuevo reporte -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button class="fab-btn" (click)="openNewReporteModal()">
    <ion-icon name="add-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>



</ion-content>
