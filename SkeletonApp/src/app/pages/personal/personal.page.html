<!-- personal.page.html -->
<ion-header>
  <ion-toolbar color="mytheme">
    <ion-title>GestiÃ³n de Trabajadores</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" color="mytheme-2">

  <!-- ðŸ”¹ Resumen de trabajadores -->
  <ion-card class="modern-card">
    <ion-card-header>
      <ion-card-title>Resumen General</ion-card-title>
      <ion-card-subtitle class="subtitle">Estado actual del personal</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <ion-grid class="stats-grid">
        <ion-row>
          <ion-col size="4" class="ion-text-center">
            <h2 class="stat-value">{{ trabajadoresActivos }}</h2>
            <p class="stat-label">Activos</p>
          </ion-col>

          <ion-col size="4" class="ion-text-center">
            <h2 class="stat-value">{{ trabajadoresLicencia }}</h2>
            <p class="stat-label">En Licencia</p>
          </ion-col>

          <ion-col size="4" class="ion-text-center">
            <h2 class="stat-value">{{ trabajadoresInactivos }}</h2>
            <p class="stat-label">Inactivos</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- ðŸ”¹ Cargos -->
  <ion-card class="modern-card">
    <ion-card-header>
      <ion-card-title>Cargos del Personal</ion-card-title>
    </ion-card-header>

    <ion-card-content class="chips-wrap">
      <ion-chip class="chip-role">ConserjerÃ­a</ion-chip>
      <ion-chip class="chip-role">Mantenimiento</ion-chip>
      <ion-chip class="chip-role">Limpieza</ion-chip>
      <ion-chip class="chip-role">AdministraciÃ³n</ion-chip>
    </ion-card-content>
  </ion-card>

  <!-- ðŸ”¹ Lista de trabajadores -->
  <ion-card class="modern-card">
    <ion-card-header>
      <ion-card-title>Listado de Trabajadores</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-list class="worker-list">
        <ion-item *ngFor="let trabajador of trabajadores" class="worker-item" lines="none">
          <ion-avatar slot="start" class="worker-avatar">
            <img [src]="trabajador.foto" alt="Foto del trabajador" />
          </ion-avatar>

          <ion-label class="worker-label">
            <h2>{{ trabajador.nombre }}</h2>
            <p>{{ trabajador.cargo }} â€¢ {{ trabajador.horario }}</p>
            <p>ðŸ“ž {{ trabajador.telefono }}</p>
          </ion-label>

          <ion-badge
            class="estado-badge"
            [ngClass]="{
              'badge-ok': trabajador.estado === 'Activo',
              'badge-warn': trabajador.estado === 'Licencia' || trabajador.estado === 'En Licencia',
              'badge-empty': trabajador.estado === 'Inactivo',
              'badge-bad': (trabajador.estado !== 'Activo' && trabajador.estado !== 'Licencia' && trabajador.estado !== 'En Licencia' && trabajador.estado !== 'Inactivo')
            }">
            {{ trabajador.estado }}
          </ion-badge>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

</ion-content>
